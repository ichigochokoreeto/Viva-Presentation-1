package v1q6;
        
import java.util.Scanner;
import java.util.Random;

public class V1Q6 {
    public static void main(String[] args) {
        Scanner input = new Scanner(System.in);
        Random rand = new Random();
        
        //Declare variables
        int guess;
        int dragonEggs = 0;
        int attempt = 10; //0-9 (10 attempts)
        int egg1, egg2, egg3, cursed1, cursed2;
        
        //Get 3 random dragon eggs 
        egg1 = rand.nextInt(10) + 1; //Add 1 to start from 1, not 0
        do{
            egg2 = rand.nextInt(10) + 1;
        }while(egg2==egg1); //To make sure random number is different
        do{
            egg3 = rand.nextInt(10) + 1;
        }while(egg3==egg1 || egg3==egg2); //To make sure random number is different
        
        //Cursed chest (can contain dragon eggs)
        cursed1 = rand.nextInt(10) + 1;
        do{
            cursed2 = rand.nextInt(10) + 1;
        }while(cursed2==cursed1); //To make sure random number is different
            
        //Chests and Eggs
        System.out.println("Welcome to the Dragon Egg Quest!");
        System.out.println("There are 10 chests, 3 dragon eggs, and 2 cursed chests.");
        System.out.println("You have 10 attempts to find all dragon eggs.\n");
        
        //Player guesses
        while(attempt>0 && dragonEggs<3){
            System.out.print("Guess a chest (1-10): ");
            guess = input.nextInt();
            
            //Cursed chests
            if(guess == cursed1 || guess == cursed2){
                System.out.println("The chest is cursed! Beware!");
                attempt-=2; //Cursed chest reduce 2 attempts
            }
            else{
                attempt--; //Other chests reduce 1 attempt   
            }
                
            //Correct guess
            if(guess == egg1 || guess == egg2 || guess == egg3){
                System.out.println("You found a dragon egg!");
                dragonEggs++; 
               
                //Remove the egg so player won't find the same egg twice
                if (guess == egg1)
                    egg1 = 0;
                if (guess == egg2)
                    egg2 = 0;
                if (guess == egg3)
                    egg3 = 0;
            }
            else{//Compare to find minDistance and nearestEgg
                int nearestEgg = 0; //To know which chest that contains dragon egg is the nearest
                int minDistance = 999; //or Integer.MAX_VALUE
                
                if (egg1!=0 && (Math.abs(guess-egg1)<minDistance)){
                    minDistance = Math.abs(guess-egg1);
                    nearestEgg = egg1;
                }
                if (egg2!=0 && (Math.abs(guess-egg2)<minDistance)){
                    minDistance = Math.abs(guess-egg2);
                    nearestEgg = egg2;
                }
                if (egg3!=0 && (Math.abs(guess-egg3)<minDistance)){
                    minDistance = Math.abs(guess-egg3);
                    nearestEgg = egg3;
                }
                //Check nearby chest
                if(minDistance<=3){
                System.out.println("Warm! You’re very close to a dragon egg!");
                }
                else{
                    System.out.println("Cold! You’re far from any dragon egg!");
                }
                
                if(guess > nearestEgg){
                    System.out.println("Hint: Try a lower chest number");
                }
                else{
                    System.out.println("Hint: Try a higher chest number");
                }
                    System.out.println("No egg here, keep searching!");
            }    
                    System.out.println("Attempts left: " + attempt + "\n");
        }
        //End conditions
            if(dragonEggs == 3){
                System.out.print("Congratulations! All dragon eggs are safe!");
            }
            else{
                System.out.print("Game over! Some dragon eggs remain hidden!");
            }
            input.close();
        }
}
